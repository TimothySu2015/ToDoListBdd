# language: zh-TW
功能: 任務內嵌編輯功能
  身為 生產力使用者
  我想要 直接點擊任務文字進行編輯
  以便 快速修改任務內容而不需要額外操作

  背景:
    假設 我有一個待辦事項列表
    而且 列表中有一個任務 "完成專案報告"

  場景: 雙擊任務文字進入編輯模式
    當 我雙擊任務文字 "完成專案報告"
    那麼 任務應該進入編輯模式
    而且 文字應該變成可編輯的輸入框
    而且 輸入框應該獲得焦點
    而且 文字應該被全選

  場景: 按 Enter 鍵保存編輯
    假設 我正在編輯任務 "完成專案報告"
    當 我修改文字為 "完成季度專案報告"
    而且 我按下 Enter 鍵
    那麼 任務文字應該更新為 "完成季度專案報告"
    而且 編輯模式應該結束
    而且 應該顯示保存成功的提示

  場景: 按 Escape 鍵取消編輯
    假設 我正在編輯任務 "完成專案報告"
    當 我修改文字為 "錯誤的修改"
    而且 我按下 Escape 鍵
    那麼 任務文字應該回滾到 "完成專案報告"
    而且 編輯模式應該結束

  場景: 點擊外部自動保存
    假設 我正在編輯任務 "完成專案報告"
    當 我修改文字為 "更新專案報告"
    而且 我點擊編輯框外部
    那麼 任務文字應該更新為 "更新專案報告"
    而且 編輯模式應該結束

  場景: 編輯框失去焦點時自動保存
    假設 我正在編輯任務 "完成專案報告"
    當 我修改文字為 "修改專案報告"
    而且 編輯框失去焦點
    那麼 任務文字應該更新為 "修改專案報告"
    而且 編輯模式應該結束

  場景: 空白內容驗證
    假設 我正在編輯任務 "完成專案報告"
    當 我刪除所有文字
    而且 我按下 Enter 鍵
    那麼 應該顯示錯誤訊息 "任務描述不能為空白"
    而且 編輯模式應該保持
    而且 輸入框應該保持焦點

  場景: 編輯模式視覺效果
    當 我雙擊任務文字 "完成專案報告"
    那麼 輸入框應該有編輯模式的邊框樣式
    而且 輸入框應該有獲得焦點的視覺效果
    而且 任務項目應該有編輯中的視覺指示

  場景: 編輯時防止其他操作
    假設 我正在編輯任務 "完成專案報告"
    當 我嘗試點擊完成按鈕
    那麼 完成按鈕應該被禁用
    而且 編輯模式應該保持

  場景: 網路錯誤時的回滾機制
    假設 我正在編輯任務 "完成專案報告"
    而且 網路連接中斷
    當 我修改文字為 "網路測試修改"
    而且 我按下 Enter 鍵
    那麼 應該顯示錯誤訊息 "保存失敗，請檢查網路連接"
    而且 任務文字應該回滾到 "完成專案報告"
    而且 編輯模式應該結束

  場景: 長文字編輯支援
    當 我雙擊任務文字 "完成專案報告"
    而且 我修改文字為 "完成第一季度的重要專案報告，包含所有相關數據分析和建議，確保品質符合公司標準"
    而且 我按下 Enter 鍵
    那麼 任務文字應該完整顯示長文字
    而且 文字應該適當換行顯示

  場景: 編輯操作記錄
    假設 我正在編輯任務 "完成專案報告"
    當 我修改文字為 "完成重要專案報告"
    而且 我按下 Enter 鍵
    那麼 系統應該記錄編輯操作
    而且 任務的更新時間應該被更新

  場景: 快速連續編輯
    假設 我已成功編輯任務為 "完成季度報告"
    當 我立即再次雙擊任務文字
    那麼 任務應該再次進入編輯模式
    而且 編輯框應該顯示當前文字 "完成季度報告"